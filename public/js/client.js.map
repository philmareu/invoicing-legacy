{"version":3,"sources":["notes.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"client.js","sourcesContent":["$(function(){\r\n    \r\n    // Add Note Modal\r\n\t$('a#add-note').on('click', function(e){\r\n\r\n        var resourceId = $('meta[name=\"resource-id\"]').attr('content');\r\n        var resourceModel = $('meta[name=\"resource-model\"]').attr('content');\r\n        resourceString = $( this ).attr('class');\r\n        uri = \"/notes/create?resource_id=\" + resourceId + \"&resource_model=\" + resourceModel;\r\n        \r\n        getModal(uri);\r\n\t\t\r\n\t});\r\n    \r\n    // Save note\r\n\t$('#modal').on(\"click\", 'button#save-note', function( e ) {\r\n\t    \r\n\t    e.preventDefault();\r\n\t\t\r\n\t\tvar button = $( this );\r\n        var form = button.parents('form');\r\n        var action = form.attr('action');\r\n\t\t\r\n\t\tbutton.html('Saving <i class=\"uk-icon-refresh uk-icon-spin\"></i>').prop('disabled', true);\r\n\t    var modal = $.UIkit.modal(\"#modal\");\r\n        \r\n        $.ajax({\r\n    \t\ttype: \"POST\",\r\n    \t\turl: action,\r\n    \t\tdata: form.serialize()\r\n    \t})\r\n    \t.done( function( response ) {\r\n\r\n            if(response.status == 'saved')\r\n    \t\t{\r\n                if ($('div.note').length == 0) {\r\n    \t\t        $('.no-notes').remove();\r\n    \t\t        $('#notes').html( response.html );\r\n                }\r\n                \r\n                else {\r\n                    $('#notes').append( response.html );\r\n                }\r\n\r\n    \t\t\tmodal._hide();\r\n    \t\t}\r\n\r\n    \t});\r\n\t\t\r\n\t});\r\n\t\r\n});"],"sourceRoot":"/source/"}