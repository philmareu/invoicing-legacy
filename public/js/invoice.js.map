{"version":3,"sources":["notes.js","invoice.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"invoice.js","sourcesContent":["$(function(){\r\n    \r\n    // Add Note Modal\r\n\t$('a#add-note').on('click', function(e){\r\n\r\n        var resourceId = $('meta[name=\"resource-id\"]').attr('content');\r\n        var resourceModel = $('meta[name=\"resource-model\"]').attr('content');\r\n        resourceString = $( this ).attr('class');\r\n        uri = \"/notes/create?resource_id=\" + resourceId + \"&resource_model=\" + resourceModel;\r\n        \r\n        getModal(uri);\r\n\t\t\r\n\t});\r\n    \r\n    // Save note\r\n\t$('#modal').on(\"click\", 'button#save-note', function( e ) {\r\n\t    \r\n\t    e.preventDefault();\r\n\t\t\r\n\t\tvar button = $( this );\r\n        var form = button.parents('form');\r\n        var action = form.attr('action');\r\n\t\t\r\n\t\tbutton.html('Saving <i class=\"uk-icon-refresh uk-icon-spin\"></i>').prop('disabled', true);\r\n\t    var modal = $.UIkit.modal(\"#modal\");\r\n        \r\n        $.ajax({\r\n    \t\ttype: \"POST\",\r\n    \t\turl: action,\r\n    \t\tdata: form.serialize()\r\n    \t})\r\n    \t.done( function( response ) {\r\n\r\n            if(response.status == 'saved')\r\n    \t\t{\r\n                if ($('div.note').length == 0) {\r\n    \t\t        $('.no-notes').remove();\r\n    \t\t        $('#notes').html( response.html );\r\n                }\r\n                \r\n                else {\r\n                    $('#notes').append( response.html );\r\n                }\r\n\r\n    \t\t\tmodal._hide();\r\n    \t\t}\r\n\r\n    \t});\r\n\t\t\r\n\t});\r\n\t\r\n});","$(function() {\n\n    // Mark workorders complete\n    function deleteInvoiceListener() {\n        $('a#delete-invoice').one('click', function( event ) {\n\n            event.preventDefault();\n            var button = $( this );\n            var invoiceId = button.attr('data-invoicing-invoice-id');\n            button.html('<i class=\"uk-icon-refresh uk-icon-spin\"></i>').prop('disabled', true);\n\n            if (confirm(\"Are you sure you want to delete this invoice?\"))\n            {\n                $.ajax({\n                    type: \"POST\",\n                    url: SITE_URL + \"/invoices/\" + invoiceId,\n                    data: {_token: csrf, _method: 'DELETE'}\n                })\n                    .done(function( response ) {\n                        if(response.status == 'deleted') {\n                            console.log('deleted');\n                        } else {\n                            console.log('unauthorized');\n                        }\n                    });\n\n                deleteInvoiceListener();\n            }\n\n        });\n    }\n\n    deleteInvoiceListener();\n\n});"],"sourceRoot":"/source/"}